<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style>
.graph circle {fill: lightblue; stroke: black;}
#tooltip {
    opacity: 0;
    position: absolute;
    text-align: center;
    width: 100px;
    background: white;
    border: 0px;
}
</style>

<body onload='init()'>
<svg class="graph" width=1200 height=1200>
</svg>

<div id="tooltip"></div>

<script>
async function init() {
    const data = await d3.csv(
    "/data/dataSource.csv");

    xs=d3.scaleLinear().domain([600,1300]).range([0,900]);
    ys=d3.scaleLinear().domain([100,20]).range([0,900]);

    x=d3.scaleLinear().domain([600,1300]).range([0,900]);
    y=d3.scaleLinear().domain([100,20]).range([0,900]);

    var tooltip = d3.select("#tooltip");

    d3.select('body')
    .select(".graph")
    .append('g')
    .attr('transform','translate(50,50)')
    .selectAll('circle')
    .data(data)
    .enter()
    .append('circle')
    .attr('cx',function(d,i){return x(d.ThreeMade)})
    .attr('cy',function(d,i){return y(d.WPCT)})
    .attr('r',function(d, i){return 15})
    .on("mouseover", function(d,i) {
        tooltip.style("opacity", 1)
               .style("left",(x(d.ThreeMade)-40)+"px")
               .style("top",(y(d.WPCT)-40)+"px")
               .html(d.Team+"  "+d.YEAR+" WinPct: "+d.WPCT+"%"+" 3PT made: "+d.ThreeMade);
    })
    .on("mouseout", function() {tooltip.style("opacity", 0)});

    d3.select('svg').append('g')
    .attr('transform','translate(50,50)')
    .call(d3.axisLeft(ys).tickValues([20,30,40,50,60,70,80,90,100]).tickFormat(d3.format("~s")));

    d3.select('svg').append('g')
    .attr('transform','translate(50,950)')
    .call(d3.axisBottom(xs).tickValues([600,700,800,900,1000,1100,1200,1300]).tickFormat(d3.format("~s")));
}
</script>
</body>
</html>